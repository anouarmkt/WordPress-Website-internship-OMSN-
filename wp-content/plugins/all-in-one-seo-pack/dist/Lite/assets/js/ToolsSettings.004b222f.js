var g=Object.defineProperty,f=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var _=(s,t,e)=>t in s?g(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,i=(s,t)=>{for(var e in t||(t={}))S.call(t,e)&&_(s,e,t[e]);if(u)for(var e of u(t))w.call(t,e)&&_(s,e,t[e]);return s},a=(s,t)=>f(s,v(t));import{b as n,c as p,d as m,a as h}from"./index.d328c175.js";import{l as A}from"./helpers.db3922d1.js";import{C as b}from"./Modal.1216ab78.js";import{S as U}from"./index.a4161053.js";const x={computed:a(i({},n(["isUnlicensed"])),{shouldShowMain(){return!this.isUnlicensed&&this.$addons.isActive(this.addonSlug)&&!this.$addons.requiresUpgrade(this.addonSlug)&&this.$addons.hasMinimumVersion(this.addonSlug)},shouldShowActivate(){return!this.isUnlicensed&&!this.$addons.isActive(this.addonSlug)&&this.$addons.canActivate(this.addonSlug)&&!this.$addons.requiresUpgrade(this.addonSlug)&&(this.$addons.hasMinimumVersion(this.addonSlug)||!this.$addons.isInstalled(this.addonSlug))},shouldShowUpdate(){return!this.isUnlicensed&&this.$addons.isInstalled(this.addonSlug)&&!this.$addons.requiresUpgrade(this.addonSlug)&&!this.$addons.hasMinimumVersion(this.addonSlug)},shouldShowLite(){return this.isUnlicensed||this.$addons.requiresUpgrade(this.addonSlug)}})},B={data(){return{strings:{notifications:this.$t.__("Notifications",this.$td),newNotifications:this.$t.__("New Notifications",this.$td),activeNotifications:this.$t.__("Active Notifications",this.$td)}}},computed:a(i({},n(["activeNotifications","activeNotificationsCount","dismissedNotifications","dismissedNotificationsCount"])),{notificationsCount(){return this.dismissed?this.dismissedNotificationsCount:this.activeNotificationsCount},notifications(){return this.dismissed?this.dismissedNotifications:this.activeNotifications},notificationTitle(){return this.dismissed?this.strings.notifications:this.strings.newNotifications}}),methods:i({},p(["toggleDismissedNotifications","toggleNotifications"]))},E={methods:a(i({},m(["saveChanges","saveHtaccess"])),{processSaveChanges(){this.$store.commit("loading",!0);let s=!1,t=!1,e="saveChanges";setTimeout(()=>{s=!0,t&&this.$store.commit("loading",!1)},1500),this.$store.state.route.name==="htaccess-editor"&&(e="saveHtaccess",this.$store.commit("setHtaccessError",null)),this[e]().then(d=>{d&&d.body.redirection||(s||this.$store.state.route.name==="htaccess-editor"?this.$store.commit("loading",!1):t=!0,this.$bus.$emit("changes-saved"))})}})},L={computed:i(i({},h(["currentPost","tags"])),h("live-tags",["liveTags"])),methods:{truncate(s,t=200){return s&&(t<s.length?s.substr(0,t-1)+this.$tags.decodeHTMLEntities("&hellip;"):s)},parseTags(s){return!s||!this.tags.tags?s:(this.tags.tags.forEach(t=>{if(t.id==="custom_field"){const o=new RegExp(`#${t.id}-([a-zA-Z0-9_-]+)`),c=s.match(o);c&&c[1]&&(s=s.replace(o,A(c[1])));return}if(t.id==="tax_name"){const o=new RegExp(`#${t.id}-([a-zA-Z0-9_-]+)`,"g");s=s.replace(o,`[${t.name} - $1]`);return}const e=new RegExp(`#${t.id}(?![a-zA-Z0-9_])`,"g");t.id==="separator_sa"&&this.separator!==void 0&&(s=s.replace(e,this.separator));const d=s.match(e),r=this.liveTags[t.id]||t.value;d&&(s=s.replace(e,"%|%"+r)),this.$set(t,"value",r);const{tags:$}=window.aioseo.tags,l=$.find(o=>o.id===t.id);l&&this.$set(l,"value",r)}),s=s.replace(/%\|%/g,""),this.$tags.decodeHTMLEntities(this.$tags.decodeHTMLEntities(s.replace(/<(?:.|\n)*?>/gm," ").replace(/\s/g," "))))}}},z={data(){return{strings:{skipThisStep:this.$t.__("Skip this Step",this.$td),goBack:this.$t.__("Go Back",this.$td),saveAndContinue:this.$t.__("Save and Continue",this.$td)}}},computed:a(i(i({},n("wizard",["getNextLink","getPrevLink"])),n(["isUnlicensed"])),{features(){return[...this.$constants.WIZARD_FEATURES]},getSelectedUpsellFeatures(){return this.presetFeatures?this.presetFeatures.filter(s=>this.needsUpsell(this.features.find(t=>t.value===s))).map(s=>this.features.find(t=>t.value===s)):[]}}),methods:a(i({},p("wizard",["setCurrentStage"])),{needsUpsell(s){return s.pro?!!(this.isUnlicensed||s.upgrade&&this.$addons.requiresUpgrade(s.upgrade)):!1}}),mounted(){this.setCurrentStage(this.stage)}},M={components:{CoreModal:b,SvgClose:U},data(){return{loading:!1,showModal:!1,strings:{closeAndExit:this.$t.__("Close and Exit Wizard Without Saving",this.$td),buildABetterAioseo:this.$t.sprintf(this.$t.__("Build a Better %1$s",this.$td),"AIOSEO"),getImprovedFeatures:this.$t.sprintf(this.$t.__("Get improved features and faster fixes by sharing non-sensitive data via usage tracking that shows us how %1$s is being used. No personal data is tracked or stored.",this.$td),"AIOSEO"),noThanks:this.$t.__("No thanks",this.$td),yesCountMeIn:this.$t.__("Yes, count me in!",this.$td)}}},computed:i({},h("wizard",["smartRecommendations"])),methods:a(i({},m("wizard",["saveWizard"])),{processOptIn(){this.smartRecommendations.usageTracking=!0,this.loading=!0,this.saveWizard("smartRecommendations").then(()=>{window.location.href=this.$aioseo.urls.aio.dashboard})}})},I={computed:a(i({},n(["isUnlicensed"])),{toolsSettings(){const s=[{value:"webmasterTools",label:this.$t.__("Webmaster Tools",this.$td),access:"aioseo_general_settings"},{value:"rssContent",label:this.$t.__("RSS Content",this.$td),access:"aioseo_general_settings"},{value:"advanced",label:this.$t.__("Advanced",this.$td),access:"aioseo_general_settings"},{value:"searchAppearance",label:this.$t.__("Search Appearance",this.$td),access:"aioseo_search_appearance_settings"},{value:"social",label:this.$t.__("Social Networks",this.$td),access:"aioseo_social_networks_settings"},{value:"sitemap",label:this.$t.__("Sitemaps",this.$td),access:"aioseo_sitemap_settings"},{value:"robots",label:this.$t.__("Robots.txt",this.$td),access:"aioseo_tools_settings"},{value:"breadcrumbs",label:this.$t.__("Breadcrumbs",this.$td),access:"aioseo_general_settings"}];return window.aioseo.internalOptions.internal.deprecatedOptions.includes("badBotBlocker")&&s.push({value:"blocker",label:this.$t.__("Bad Bot Blocker",this.$td),access:"aioseo_tools_settings"}),this.$isPro&&s.push({value:"accessControl",label:this.$t.__("Access Control",this.$td),access:"aioseo_admin"}),!this.isUnlicensed&&this.showImageSeoReset&&s.push({value:"image",label:this.$t.__("Image SEO",this.$td),access:"aioseo_search_appearance_settings"}),!this.isUnlicensed&&this.showLocalBusinessReset&&s.push({value:"localBusiness",label:this.$t.__("Local Business SEO",this.$td),access:"aioseo_local_seo_settings"}),!this.isUnlicensed&&this.showRedirectsReset&&s.push({value:"redirects",label:this.$t.__("Redirects",this.$td),access:"aioseo_redirects_settings"}),!this.isUnlicensed&&this.showLinkAssistantReset&&s.push({value:"linkAssistant",label:this.$t.__("Link Assistant",this.$td),access:"aioseo_link_assistant_settings"}),s.filter(t=>this.$allowed(t.access))},showImageSeoReset(){const s=this.$addons.getAddon("aioseo-image-seo");return s&&s.isActive&&!s.requiresUpgrade},showLocalBusinessReset(){const s=this.$addons.getAddon("aioseo-local-business");return s&&s.isActive&&!s.requiresUpgrade},showRedirectsReset(){const s=this.$addons.getAddon("aioseo-redirects");return s&&s.isActive&&!s.requiresUpgrade},showLinkAssistantReset(){const s=this.$addons.getAddon("aioseo-link-assistant");return s&&s.isActive&&!s.requiresUpgrade}})};export{x as A,B as N,E as S,L as T,z as W,M as a,I as b};
