var g=Object.defineProperty,u=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var a=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var i=(s,e,t)=>e in s?g(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,r=(s,e)=>{for(var t in e||(e={}))p.call(e,t)&&i(s,t,e[t]);if(a)for(var t of a(e))h.call(e,t)&&i(s,t,e[t]);return s},n=(s,e)=>u(s,_(e));import{d as m}from"./index.d328c175.js";import{b as f}from"./ToolsSettings.004b222f.js";import"./helpers.db3922d1.js";import{n as b}from"./vueComponentNormalizer.87056a83.js";import{B as L}from"./Checkbox.5873a8d2.js";import{C as v}from"./Index.cb0f42fe.js";import{C as $}from"./Card.be971207.js";import{C as S}from"./Modal.1216ab78.js";import{C as k}from"./SettingsRow.eb71f07b.js";import{G as B,a as y}from"./Row.13b6f3f1.js";import{S as C}from"./Checkmark.e7547654.js";import{S as w}from"./index.a4161053.js";import"./default-i18n.abde8d59.js";import"./isArrayLikeObject.a4a9229a.js";import"./cleanForSlug.e9a761bb.js";import"./constants.a1b1778a.js";import"./Tooltip.3ec20ff5.js";import"./_commonjsHelpers.f40d732e.js";import"./QuestionMark.83ebd18e.js";import"./Slide.f5d21606.js";import"./client.94d919c5.js";var z=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"aioseo-tools-database-tools"},[t("core-card",{attrs:{slug:"databaseTools","header-text":s.strings.resetRestoreSettings}},[t("core-settings-row",{attrs:{name:s.strings.selectSettings},scopedSlots:s._u([{key:"content",fn:function(){return[s.showSuccess?t("core-alert",{staticClass:"reset-success",attrs:{type:"green"}},[s._v(" "+s._s(s.strings.resetSuccess)+" ")]):s._e(),t("div",{staticClass:"reset-settings"},[s._v(" "+s._s(s.strings.selectSettingsToReset)+" "),t("br"),t("br"),t("grid-row",{staticClass:"settings"},[t("grid-column",[t("base-checkbox",{attrs:{size:"medium"},model:{value:s.options.all,callback:function(o){s.$set(s.options,"all",o)},expression:"options.all"}},[s._v(" "+s._s(s.strings.allSettings)+" ")])],1),s._l(s.toolsSettings,function(o,c){return t("grid-column",{key:c,attrs:{xl:"3",md:"4",sm:"6"}},[s.options.all?s._e():t("base-checkbox",{attrs:{size:"medium"},model:{value:s.options[o.value],callback:function(d){s.$set(s.options,o.value,d)},expression:"options[setting.value]"}},[s._v(" "+s._s(o.label)+" ")]),o.value!=="all"&&s.options.all?t("base-checkbox",{attrs:{size:"medium",value:!0,disabled:""}},[s._v(" "+s._s(o.label)+" ")]):s._e()],1)})],2),t("base-button",{attrs:{type:"gray",size:"medium",disabled:s.canReset},on:{click:function(o){s.showModal=!0}}},[s._v(" "+s._s(s.strings.resetSelectedSettings)+" ")])],1)]},proxy:!0}])})],1),s.showLogs?t("core-card",{attrs:{slug:"databaseToolsLogs","header-text":s.strings.logs},scopedSlots:s._u([{key:"tooltip",fn:function(){return[s._v(" "+s._s(s.strings.logsTooltip)+" ")]},proxy:!0}],null,!1,3934548655)},[s.$aioseo.data.logSizes.logs404?t("core-settings-row",{attrs:{name:s.strings.logs404,align:""},scopedSlots:s._u([{key:"content",fn:function(){return[t("base-button",{staticClass:"clear-log",attrs:{type:"gray",size:"medium",loading:s.loadingLog==="logs404",disabled:s.disabledLog("logs404")},on:{click:function(o){return s.processClearLog("logs404")}}},[s.disabledLog("logs404")?t("span",[t("svg-checkmark"),s._v(" "+s._s(s.strings.cleared)+" ")],1):s._e(),s.disabledLog("logs404")?s._e():t("span",[s._v(" "+s._s(s.strings.clear404Logs)+" ")])]),t("div",{staticClass:"log-size"},[t("span",{staticClass:"size-dot",class:s.getSizeClass(s.$aioseo.data.logSizes.logs404.original)}),s._v(" "+s._s(s.$aioseo.data.logSizes.logs404.readable)+" ")])]},proxy:!0}],null,!1,1716809233)}):s._e(),s.$aioseo.data.logSizes.redirectLogs?t("core-settings-row",{attrs:{name:s.strings.redirectLogs,align:""},scopedSlots:s._u([{key:"content",fn:function(){return[t("base-button",{staticClass:"clear-log",attrs:{type:"gray",size:"medium",loading:s.loadingLog==="redirectLogs",disabled:s.disabledLog("redirectLogs")},on:{click:function(o){return s.processClearLog("redirectLogs")}}},[s.disabledLog("redirectLogs")?t("span",[t("svg-checkmark"),s._v(" "+s._s(s.strings.cleared)+" ")],1):s._e(),s.disabledLog("redirectLogs")?s._e():t("span",[s._v(" "+s._s(s.strings.clearRedirectLogs)+" ")])]),t("div",{staticClass:"log-size"},[t("span",{staticClass:"size-dot",class:s.getSizeClass(s.$aioseo.data.logSizes.redirectLogs.original)}),s._v(" "+s._s(s.$aioseo.data.logSizes.redirectLogs.readable)+" ")])]},proxy:!0}],null,!1,4167017073)}):s._e(),s.showBadBotBlockerLogs?t("core-settings-row",{attrs:{name:s.strings.badBotBlockerLogs,align:""},scopedSlots:s._u([{key:"content",fn:function(){return[t("base-button",{staticClass:"clear-log",attrs:{type:"gray",size:"medium",loading:s.loadingLog==="badBotBlockerLog",disabled:s.disabledLog("badBotBlockerLog")},on:{click:function(o){return s.processClearLog("badBotBlockerLog")}}},[s.disabledLog("badBotBlockerLog")?t("span",[t("svg-checkmark"),s._v(" "+s._s(s.strings.cleared)+" ")],1):s._e(),s.disabledLog("badBotBlockerLog")?s._e():t("span",[s._v(" "+s._s(s.strings.clearBadBotBlockerLogs)+" ")])]),t("div",{staticClass:"log-size"},[t("span",{staticClass:"size-dot",class:s.getSizeClass(s.$aioseo.data.logSizes.badBotBlockerLog.original)}),s._v(" "+s._s(s.$aioseo.data.logSizes.badBotBlockerLog.readable)+" ")])]},proxy:!0}],null,!1,649968002)}):s._e()],1):s._e(),s.showModal?t("core-modal",{attrs:{"no-header":""},scopedSlots:s._u([{key:"body",fn:function(){return[t("div",{staticClass:"aioseo-modal-body"},[t("button",{staticClass:"close",on:{click:function(o){o.stopPropagation(),s.showModal=!1}}},[t("svg-close",{on:{click:function(o){s.showModal=!1}}})],1),t("h3",[s._v(s._s(s.strings.areYouSureReset))]),t("div",{staticClass:"reset-description",domProps:{innerHTML:s._s(s.strings.actionCannotBeUndone)}}),t("base-button",{attrs:{type:"blue",size:"medium",loading:s.loading},on:{click:s.processResetSettings}},[s._v(" "+s._s(s.strings.yesIHaveBackup)+" ")]),t("base-button",{attrs:{type:"gray",size:"medium"},on:{click:function(o){s.showModal=!1}}},[s._v(" "+s._s(s.strings.noBackup)+" ")])],1)]},proxy:!0}],null,!1,2298756748)}):s._e()],1)},x=[];const R={components:{BaseCheckbox:L,CoreAlert:v,CoreCard:$,CoreModal:S,CoreSettingsRow:k,GridColumn:B,GridRow:y,SvgCheckmark:C,SvgClose:w},mixins:[f],data(){return{clearedLogs:{badBotBlockerLogs:!1,redirectLogs:!1,logs404:!1},showModal:!1,loading:!1,loadingLog:null,showSuccess:!1,options:{},strings:{resetRestoreSettings:this.$t.__("Reset / Restore Settings",this.$td),selectSettings:this.$t.__("Select Settings",this.$td),selectSettingsToReset:this.$t.__("Select settings that you would like to reset:",this.$td),resetSelectedSettings:this.$t.__("Reset Selected Settings to Default",this.$td),resetSuccess:this.$t.__("Your settings have been reset successfully!",this.$td),areYouSureReset:this.$t.__("Are you sure you want to reset the selected settings to default?",this.$td),actionCannotBeUndone:this.$t.sprintf(this.$t.__("This action cannot be undone. Before taking this action, we recommend that you make a %1$sfull website backup first%2$s.",this.$td),"<strong>","</strong>"),yesIHaveBackup:this.$t.__("Yes, I have a backup and want to reset the settings",this.$td),noBackup:this.$t.__("No, I need to make a backup",this.$td),logs:this.$t.__("Logs",this.$td),badBotBlockerLogs:this.$t.__("Bad Bot Blocker Logs",this.$td),cleared:this.$t.__("Cleared",this.$td),clearBadBotBlockerLogs:this.$t.__("Clear Bad Bot Blocker Logs",this.$td),logs404:this.$t.__("404 Logs",this.$td),clear404Logs:this.$t.__("Clear 404 Logs",this.$td),redirectLogs:this.$t.__("Redirect Logs",this.$td),clearRedirectLogs:this.$t.__("Clear Redirect Logs",this.$td),allSettings:this.$t.sprintf(this.$t.__("All %1$s Settings",this.$td),"AIOSEO"),logsTooltip:this.$t.__(`Log sizes may fluctuate and not always be 100% accurate since the results can be cached. Also after clearing a log, it may not show as "0" since database tables also include additional information such as indexes that we don't clear.`,this.$td)}}},computed:{canReset(){const s=[];return Object.keys(this.options).forEach(e=>{s.push(this.options[e])}),!s.some(e=>e)},showLogs(){return this.showBadBotBlockerLogs||this.$aioseo.data.logSizes.redirectLogs||this.$aioseo.data.logSizes.logs404},showBadBotBlockerLogs(){return window.aioseo.internalOptions.internal.deprecatedOptions.includes("badBotBlocker")}},methods:n(r({},m(["resetSettings","clearLog"])),{processResetSettings(){const s=[];this.options.all?this.toolsSettings.filter(e=>e.value!=="all").forEach(e=>{s.push(e.value)}):Object.keys(this.options).forEach(e=>{this.options[e]&&s.push(e)}),this.loading=!0,this.resetSettings(s).then(()=>{this.showModal=!1,this.loading=!1,this.showSuccess=!0,this.options={},setTimeout(()=>{this.showSuccess=!1},5e3)})},getSizeClass(s){let e="green";return 262144e3<s?e="orange":1073741274<s&&(e="red"),e},processClearLog(s){this.loadingLog=s,this.clearLog(s).then(()=>{this.loadingLog=null,this.clearedLogs[s]=!0})},disabledLog(s){return!this.$aioseo.data.logSizes[s].original||this.clearedLogs[s]}})},l={};var T=b(R,z,x,!1,M,null,null,null);function M(s){for(let e in l)this[e]=l[e]}var ts=function(){return T.exports}();export{ts as default};
